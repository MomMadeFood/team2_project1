<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mycompany.webapp.dao.PointDAO">
	<insert id="insertPoint" parameterType="point">
		INSERT INTO point(point_no, member_id, name, amount, issue_date,expire_date ,state, remain) values((select TO_CHAR(SYSDATE, 'YYYYMMDD') from dual) || 'T'||(select 10000000+(SELECT count(*) FROM point)from 
		dual),#{memberId},#{name},#{amount},sysdate,sysdate+365,#{state},#{remain})
	</insert>
	
	<select id="selectCounts" resultType="int">
		SELECT count(*) FROM POINT
	</select>
</mapper>